import subprocess, time, keyboard, platform

cd = 0.25
clicking = False

def toggle_clicking():
    global clicking
    clicking = not clicking
    print("Autoclicker On" if clicking else "Autoclicker Off")

def set_speed():
    global cd
    print("Cooldown? (ms)")
    while True:
        try:
            cd = int(input())
            break
        except ValueError:
            print("Invalid. Must be an integer.")


keyboard.add_hotkey('f1', toggle_clicking)
keyboard.add_hotkey('f2', set_speed)


print("Press F1 to toggle autoclicker.")
print("Press F2 to change speed.")

while True:
    if clicking:
        subprocess.Popen(["xdotool", "click", "1"])
        time.sleep(cd / 1000)
